{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useLayoutEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { FontAwesome5, Entypo, MaterialIcons, Ionicons } from \"@expo/vector-icons\";\nimport { useSelector } from \"react-redux\";\nimport EmojiSelector from 'react-native-emoji-selector';\nimport { doc, setDoc, addDoc, collection, query, orderBy, onSnapshot } from \"firebase/firestore\";\nimport { serverTimestamp } from \"firebase/firestore\";\nimport { firestoreDB } from \"../config/firebase\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar ChatScreen = function ChatScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var user = useSelector(function (state) {\n    return state.user;\n  });\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    inputMessage = _useState2[0],\n    setInputMessage = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    messages = _useState4[0],\n    setMessages = _useState4[1];\n  var _useState5 = useState(true),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isLoading = _useState6[0],\n    setIsLoading = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showEmojiPicker = _useState8[0],\n    setShowEmojiPicker = _useState8[1];\n  var room = route.params.room;\n  var sendMessage = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      var timeStamp = serverTimestamp();\n      var id = `${Date.now()}`;\n      var _doc = {\n        _id: id,\n        roomId: room._id,\n        timeStamp: timeStamp,\n        message: inputMessage,\n        user: user\n      };\n      setInputMessage(\"\");\n      try {\n        yield addDoc(collection(doc(firestoreDB, \"chats\", room._id), \"messages\"), _doc);\n      } catch (error) {\n        console.error(\"Error sending message:\", error);\n        alert(\"Error sending message. Please try again.\");\n      }\n    });\n    return function sendMessage() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  useLayoutEffect(function () {\n    var msgQuery = query(collection(firestoreDB, \"chats\", room == null ? void 0 : room._id, \"messages\"), orderBy(\"timeStamp\", \"asc\"));\n    var unsubcribe = onSnapshot(msgQuery, function (querySnap) {\n      var upMsg = querySnap.docs.map(function (doc) {\n        return doc.data();\n      });\n      setMessages(upMsg);\n      setIsLoading(false);\n    });\n    return unsubcribe;\n  }, []);\n  var handleEmojiSelected = function handleEmojiSelected(emoji) {\n    setMessages(messages + emoji);\n  };\n  var toggleEmojiPicker = function toggleEmojiPicker() {\n    setShowEmojiPicker(!showEmojiPicker);\n  };\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(TouchableOpacity, {\n      style: styles.backButton,\n      onPress: function onPress() {\n        return navigation.goBack();\n      },\n      children: _jsx(MaterialIcons, {\n        name: \"chevron-left\",\n        size: 32,\n        color: 'white'\n      })\n    }), _jsxs(View, {\n      style: styles.middleContainer,\n      children: [_jsx(View, {\n        style: styles.userIcon,\n        children: _jsx(FontAwesome5, {\n          name: \"users\",\n          size: 24,\n          color: \"#fbfbfb\"\n        })\n      }), _jsxs(View, {\n        style: styles.userInfo,\n        children: [_jsx(Text, {\n          style: styles.userName,\n          children: room.ChatName.length > 13 ? `${room.ChatName.slice(0, 12)}..` : room.ChatName\n        }), _jsx(Text, {\n          style: styles.userStatus,\n          children: \"Online\"\n        })]\n      }), _jsxs(View, {\n        style: styles.iconRow,\n        children: [_jsx(TouchableOpacity, {\n          style: styles.iconButton,\n          children: _jsx(FontAwesome5, {\n            name: \"video\",\n            size: 18,\n            color: \"#fbfbfb\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.iconButton,\n          children: _jsx(FontAwesome5, {\n            name: \"phone\",\n            size: 18,\n            color: \"#fbfbfb\"\n          })\n        }), _jsx(TouchableOpacity, {\n          style: styles.iconButton,\n          children: _jsx(Entypo, {\n            name: \"dots-three-vertical\",\n            size: 18,\n            color: \"#fbfbfb\"\n          })\n        })]\n      })]\n    }), _jsx(View, {\n      style: styles.maincomponent,\n      children: _jsx(View, {\n        children: _jsx(KeyboardAvoidingView, {\n          behavior: Platform.OS === 'ios' ? 'padding' : 'height',\n          keyboardVerticalOffset: 160,\n          children: _jsx(_Fragment, {\n            children: _jsx(ScrollView, {\n              style: {\n                marginTop: 40\n              },\n              children: isLoading ? _jsx(_Fragment, {\n                children: _jsx(View, {\n                  style: {\n                    justifyContent: 'center',\n                    alignItems: 'center'\n                  },\n                  children: _jsx(ActivityIndicator, {\n                    size: \"large\",\n                    color: \"#43C651\"\n                  })\n                })\n              }) : _jsx(_Fragment, {\n                children: messages == null ? void 0 : messages.map(function (msg, i) {\n                  return msg.user.providerData.email === user.providerData.email ? _jsx(_Fragment, {\n                    children: _jsx(View, {\n                      style: {\n                        alignSelf: 'flex-end',\n                        padding: 8,\n                        paddingLeft: 16,\n                        paddingRight: 16,\n                        borderRadius: 5,\n                        borderTopRightRadius: 12,\n                        borderBottomLeftRadius: 12,\n                        backgroundColor: 'green',\n                        width: 'auto',\n                        position: 'relative'\n                      },\n                      children: _jsx(Text, {\n                        children: msg.message\n                      })\n                    }, i)\n                  }) : _jsx(_Fragment, {\n                    children: _jsx(View, {\n                      style: {\n                        alignSelf: 'flex-end',\n                        padding: 8,\n                        paddingLeft: 16,\n                        paddingRight: 16,\n                        borderRadius: 5,\n                        borderTopRightRadius: 12,\n                        borderBottomLeftRadius: 12,\n                        backgroundColor: 'green',\n                        width: 'auto',\n                        position: 'relative'\n                      },\n                      children: _jsx(Text, {\n                        children: msg.message\n                      })\n                    }, i)\n                  });\n                })\n              })\n            })\n          })\n        })\n      })\n    }), _jsx(View, {\n      children: _jsxs(View, {\n        style: styles.containers,\n        children: [_jsx(TouchableOpacity, {\n          style: {\n            marginRight: 5\n          },\n          onPress: toggleEmojiPicker,\n          children: _jsx(Entypo, {\n            name: \"emoji-happy\",\n            size: 24,\n            color: \"#555\"\n          })\n        }), showEmojiPicker && _jsx(EmojiSelector, {\n          onEmojiSelected: handleEmojiSelected,\n          columns: 8,\n          showSearchBar: false,\n          showSectionTitles: false,\n          showTabs: false\n        }), _jsx(TextInput, {\n          style: styles.input,\n          placeholder: \"Type your message...\",\n          value: inputMessage,\n          onChangeText: setInputMessage,\n          multiline: true\n        }), _jsx(TouchableOpacity, {\n          style: styles.sendButton,\n          onPress: sendMessage,\n          children: _jsx(Ionicons, {\n            name: \"send\",\n            size: 24,\n            color: \"white\"\n          })\n        })]\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#36802d'\n  },\n  ownMessageContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginBottom: 10\n  },\n  senderMessageContainer: {\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    marginBottom: 10\n  },\n  ownMessage: {\n    backgroundColor: 'lightblue',\n    padding: 10,\n    borderRadius: 10\n  },\n  senderMessage: {\n    backgroundColor: 'lightgreen',\n    padding: 10,\n    borderRadius: 10\n  },\n  ownMessageText: {\n    color: 'black'\n  },\n  senderMessageText: {\n    color: 'black'\n  },\n  containers: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    backgroundColor: '#FAF9F6',\n    paddingHorizontal: 10,\n    paddingVertical: 5,\n    borderTopWidth: 1,\n    borderTopColor: '#FAF9F6'\n  },\n  input: {\n    flex: 1,\n    minHeight: 40,\n    maxHeight: 120,\n    backgroundColor: 'white',\n    borderRadius: 20,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    marginRight: 10\n  },\n  sendButton: {\n    backgroundColor: '#36802d',\n    borderRadius: 20,\n    padding: 10\n  },\n  inputContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    paddingHorizontal: 10,\n    paddingBottom: 10\n  },\n  input: {\n    flex: 1,\n    borderWidth: 1,\n    borderColor: 'gray',\n    borderRadius: 20,\n    paddingHorizontal: 15,\n    paddingVertical: 10,\n    marginRight: 10\n  },\n  backButton: {\n    top: 50,\n    left: 10\n  },\n  middleContainer: {\n    flexDirection: 'row'\n  },\n  userIcon: {\n    borderRadius: 50,\n    alignItems: 'center',\n    justifyContent: 'center',\n    width: 50,\n    height: 50,\n    borderWidth: 1,\n    borderColor: 'white',\n    left: 40,\n    top: 10\n  },\n  userInfo: {\n    top: 10\n  },\n  userName: {\n    fontSize: 20,\n    left: 50\n  },\n  userStatus: {\n    fontSize: 10,\n    left: 50\n  },\n  iconRow: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    paddingHorizontal: 20,\n    marginTop: 10\n  },\n  iconButton: {\n    left: 80,\n    margin: 10\n  },\n  maincomponent: {\n    borderTopLeftRadius: 60,\n    borderTopRightRadius: 60,\n    backgroundColor: '#FAF9F6',\n    flex: 1,\n    marginTop: 25\n  }\n});\nexport default ChatScreen;","map":{"version":3,"names":["React","useLayoutEffect","useState","View","Text","StyleSheet","TouchableOpacity","KeyboardAvoidingView","TextInput","Platform","ScrollView","ActivityIndicator","FontAwesome5","Entypo","MaterialIcons","Ionicons","useSelector","EmojiSelector","doc","setDoc","addDoc","collection","query","orderBy","onSnapshot","serverTimestamp","firestoreDB","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ChatScreen","_ref","route","navigation","user","state","_useState","_useState2","_slicedToArray","inputMessage","setInputMessage","_useState3","_useState4","messages","setMessages","_useState5","_useState6","isLoading","setIsLoading","_useState7","_useState8","showEmojiPicker","setShowEmojiPicker","room","params","sendMessage","_ref2","_asyncToGenerator","timeStamp","id","Date","now","_doc","_id","roomId","message","error","console","alert","apply","arguments","msgQuery","unsubcribe","querySnap","upMsg","docs","map","data","handleEmojiSelected","emoji","toggleEmojiPicker","style","styles","container","children","backButton","onPress","goBack","name","size","color","middleContainer","userIcon","userInfo","userName","ChatName","length","slice","userStatus","iconRow","iconButton","maincomponent","behavior","OS","keyboardVerticalOffset","marginTop","justifyContent","alignItems","msg","i","providerData","email","alignSelf","padding","paddingLeft","paddingRight","borderRadius","borderTopRightRadius","borderBottomLeftRadius","backgroundColor","width","position","containers","marginRight","onEmojiSelected","columns","showSearchBar","showSectionTitles","showTabs","input","placeholder","value","onChangeText","multiline","sendButton","create","flex","ownMessageContainer","flexDirection","marginBottom","senderMessageContainer","ownMessage","senderMessage","ownMessageText","senderMessageText","paddingHorizontal","paddingVertical","borderTopWidth","borderTopColor","minHeight","maxHeight","inputContainer","paddingBottom","borderWidth","borderColor","top","left","height","fontSize","margin","borderTopLeftRadius"],"sources":["C:/Users/786/Desktop/Chat-App/my-app/src/Screen/ChatScreen.js"],"sourcesContent":["import React, { useLayoutEffect, useState } from \"react\";\r\nimport { View, Text, StyleSheet, TouchableOpacity, KeyboardAvoidingView, TextInput, Platform, ScrollView, ActivityIndicator } from \"react-native\";\r\nimport { FontAwesome5, Entypo, MaterialIcons, Ionicons } from \"@expo/vector-icons\";\r\nimport { useSelector } from \"react-redux\";\r\nimport EmojiSelector from 'react-native-emoji-selector';\r\nimport { doc, setDoc, addDoc, collection, query, orderBy, onSnapshot } from \"firebase/firestore\";\r\nimport { serverTimestamp } from \"firebase/firestore\";\r\n\r\nimport { firestoreDB } from \"../config/firebase\";\r\nconst ChatScreen = ({ route, navigation }) => {\r\n    const user = useSelector((state) => state.user);\r\n    const [inputMessage, setInputMessage] = useState(''); // State for input message\r\n    const [messages, setMessages] = useState([]); // State for messages from Firestore\r\n     const [isLoading,setIsLoading]=useState(true);\r\n    const [showEmojiPicker, setShowEmojiPicker] = useState(false);\r\n    const { room } = route.params;\r\n\r\n    const sendMessage = async () => {\r\n        const timeStamp = serverTimestamp();\r\n        const id = `${Date.now()}`;\r\n        const _doc = {\r\n            _id: id,\r\n            roomId: room._id,\r\n            timeStamp: timeStamp,\r\n            message: inputMessage, // Use inputMessage instead of message\r\n            user: user\r\n        };\r\n        setInputMessage(\"\"); // Clear the input message after sending\r\n        try {\r\n            await addDoc(collection(doc(firestoreDB, \"chats\", room._id), \"messages\"), _doc);\r\n        } catch (error) {\r\n            console.error(\"Error sending message:\", error);\r\n            alert(\"Error sending message. Please try again.\");\r\n        }\r\n    };\r\n    \r\n    \r\n    useLayoutEffect(()=>{\r\n        const msgQuery=query(\r\n            collection(firestoreDB,\"chats\",room?._id,\"messages\"),\r\n            orderBy(\"timeStamp\",\"asc\")\r\n        )\r\n        const unsubcribe=onSnapshot(msgQuery,(querySnap)=>{\r\n            const upMsg=querySnap.docs.map(doc=>doc.data())\r\n            setMessages(upMsg)\r\n            setIsLoading(false)\r\n        })\r\n        return unsubcribe\r\n    },[])\r\n    const handleEmojiSelected = (emoji) => {\r\n        setMessages(messages + emoji);\r\n    };\r\n\r\n    const toggleEmojiPicker = () => {\r\n        setShowEmojiPicker(!showEmojiPicker);\r\n    };\r\n\r\n    return (\r\n        <View style={styles.container}>\r\n            <TouchableOpacity style={styles.backButton} onPress={() => navigation.goBack()}>\r\n                <MaterialIcons name=\"chevron-left\" size={32} color={'white'} />\r\n            </TouchableOpacity>\r\n            {/* Middle */}\r\n            <View style={styles.middleContainer}>\r\n                <View style={styles.userIcon}>\r\n                    <FontAwesome5 name=\"users\" size={24} color=\"#fbfbfb\" />\r\n                </View>\r\n                <View style={styles.userInfo}>\r\n                    <Text style={styles.userName}>{room.ChatName.length > 13 ? `${room.ChatName.slice(0, 12)}..` : room.ChatName}</Text>\r\n                    <Text style={styles.userStatus}>Online</Text>\r\n                </View>\r\n                <View style={styles.iconRow}>\r\n                    <TouchableOpacity style={styles.iconButton}>\r\n                        <FontAwesome5 name=\"video\" size={18} color=\"#fbfbfb\" />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.iconButton}>\r\n                        <FontAwesome5 name=\"phone\" size={18} color=\"#fbfbfb\" />\r\n                    </TouchableOpacity>\r\n                    <TouchableOpacity style={styles.iconButton}>\r\n                        <Entypo name=\"dots-three-vertical\" size={18} color=\"#fbfbfb\" />\r\n                    </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n            <View style={styles.maincomponent}>\r\n                <View>\r\n            <KeyboardAvoidingView behavior={Platform.OS==='ios'?'padding':'height'} keyboardVerticalOffset={160}>\r\n                    <>\r\n                    <ScrollView style={{marginTop:40}}>\r\n                    {isLoading?(<>\r\n                    <View style={{justifyContent:'center',alignItems:'center'}}>\r\n                        <ActivityIndicator size={\"large\"} color={\"#43C651\"}/>\r\n                    </View>\r\n                    </>):(<>\r\n                    {messages?.map((msg,i)=>msg.user.providerData.email===user.providerData.email?(<>\r\n                    <View style={{\r\n                         alignSelf: 'flex-end',\r\n                         padding: 8,\r\n                         paddingLeft: 16,\r\n                         paddingRight: 16,\r\n                         borderRadius: 5,\r\n                         borderTopRightRadius: 12,\r\n                         borderBottomLeftRadius: 12,\r\n                         backgroundColor: 'green',\r\n                         width: 'auto',\r\n                         position: 'relative'\r\n\r\n                    }} key={i}>\r\n                        <Text>{msg.message}</Text>\r\n                    </View>\r\n                    </>):(<>\r\n                    <View key={i} style={{ \r\n                         alignSelf: 'flex-end',\r\n                         padding: 8,\r\n                         paddingLeft: 16,\r\n                         paddingRight: 16,\r\n                         borderRadius: 5,\r\n                         borderTopRightRadius: 12,\r\n                         borderBottomLeftRadius: 12,\r\n                         backgroundColor: 'green',\r\n                         width: 'auto',\r\n                         position: 'relative'\r\n                        \r\n                        }}>\r\n                        {/*here is sender styling  */}\r\n                        <Text>{msg.message}</Text>\r\n                    </View>\r\n                    </>))}\r\n                    </>)}\r\n                    </ScrollView>\r\n                    </>\r\n                    </KeyboardAvoidingView>\r\n                    </View>\r\n            </View>\r\n            <View>\r\n              \r\n                    <View style={styles.containers}>\r\n                <TouchableOpacity style={{marginRight: 5}} onPress={toggleEmojiPicker}>\r\n                    <Entypo name=\"emoji-happy\" size={24} color=\"#555\"/>\r\n                </TouchableOpacity>\r\n                {showEmojiPicker && (\r\n                    <EmojiSelector\r\n                        onEmojiSelected={handleEmojiSelected}\r\n                        columns={8}\r\n                        showSearchBar={false}\r\n                        showSectionTitles={false}\r\n                        showTabs={false}\r\n                    />\r\n                )}\r\n                <TextInput\r\n    style={styles.input}\r\n    placeholder=\"Type your message...\"\r\n    value={inputMessage} // Use inputMessage instead of message\r\n    onChangeText={setInputMessage} // Use setInputMessage to update inputMessage state\r\n    multiline\r\n/>\r\n\r\n                <TouchableOpacity style={styles.sendButton} onPress={sendMessage} >\r\n                    <Ionicons name=\"send\" size={24} color=\"white\" />\r\n                </TouchableOpacity>\r\n                </View>\r\n            </View>\r\n        </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n    container: {\r\n        flex: 1,\r\n        backgroundColor: '#36802d',\r\n    },\r\n    ownMessageContainer: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-end',\r\n        marginBottom: 10,\r\n    },\r\n    senderMessageContainer: {\r\n        flexDirection: 'row',\r\n        justifyContent: 'flex-start',\r\n        marginBottom: 10,\r\n    },\r\n    ownMessage: {\r\n        backgroundColor: 'lightblue',\r\n        padding: 10,\r\n        borderRadius: 10,\r\n    },\r\n    senderMessage: {\r\n        backgroundColor: 'lightgreen',\r\n        padding: 10,\r\n        borderRadius: 10,\r\n    },\r\n    ownMessageText: {\r\n        color: 'black',\r\n    },\r\n    senderMessageText: {\r\n        color: 'black',\r\n    },  \r\n    containers: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        backgroundColor: '#FAF9F6',\r\n        paddingHorizontal: 10,\r\n        paddingVertical: 5,\r\n        borderTopWidth: 1,\r\n        borderTopColor: '#FAF9F6',\r\n    },\r\n    input: {\r\n        flex: 1,\r\n        minHeight: 40,\r\n        maxHeight: 120,\r\n        backgroundColor: 'white',\r\n        borderRadius: 20,\r\n        paddingHorizontal: 15,\r\n        paddingVertical: 10,\r\n        marginRight: 10,\r\n    },\r\n    sendButton: {\r\n        backgroundColor: '#36802d',\r\n        borderRadius: 20,\r\n        padding: 10,\r\n    },\r\n    inputContainer: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        paddingHorizontal: 10,\r\n        paddingBottom: 10,\r\n    },\r\n    input: {\r\n        flex: 1,\r\n        borderWidth: 1,\r\n        borderColor: 'gray',\r\n        borderRadius: 20,\r\n        paddingHorizontal: 15,\r\n        paddingVertical: 10,\r\n        marginRight: 10,\r\n    },\r\n    backButton: {\r\n        top: 50,\r\n        left: 10,\r\n    },\r\n    middleContainer: {\r\n        flexDirection: 'row',\r\n       \r\n    },\r\n    userIcon: {\r\n        borderRadius: 50,\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        width: 50,\r\n        height: 50,\r\n        borderWidth: 1,\r\n        borderColor: 'white',\r\n        left:40,\r\n        top:10\r\n    },\r\n    userInfo: {\r\n        top: 10,\r\n      \r\n    },\r\n    userName: {\r\n        fontSize: 20,\r\n        left:50\r\n    },\r\n    userStatus: {\r\n        fontSize: 10,\r\n        left:50\r\n    },\r\n    iconRow: {\r\n        flexDirection: 'row',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        paddingHorizontal: 20,\r\n        marginTop: 10,\r\n        \r\n    },\r\n    iconButton: {\r\n        left:80,\r\n        margin:10\r\n    },\r\n    maincomponent: {\r\n        borderTopLeftRadius: 60,\r\n        borderTopRightRadius: 60,\r\n        backgroundColor: '#FAF9F6',\r\n        flex: 1,\r\n        marginTop: 25,\r\n    },\r\n});\r\n\r\nexport default ChatScreen;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}